FRONTEND PASSWORD RESET IMPLEMENTATION GUIDE
=============================================

1. FORGOT PASSWORD FLOW
------------------------

Endpoint: POST /api/users/forgot-password

Request Body:
{
  "email": "user@example.com"
}

Response:
{
  "message": "If an account with that email exists, a password reset link has been sent."
}

Notes:
- Always returns success message (prevents email enumeration)
- Sends email with reset link
- Link format: ${FRONTEND_URL}/reset-password?token=${token}

Example:
const response = await fetch('/api/users/forgot-password', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ email: userEmail })
});
const data = await response.json();
// Show success message to user


2. RESET PASSWORD FLOW
-----------------------

Endpoint: POST /api/users/reset-password

Request Body:
{
  "token": "token-from-url-query-param",
  "password": "newPassword123"
}

Success Response:
{
  "message": "Password has been reset successfully"
}

Error Responses:
- 400 - Missing token/password or password < 8 characters
- 400 - Invalid or expired token

Notes:
- Extract token from URL query parameter: ?token=...
- Password must be at least 8 characters
- Token expires after 1 hour

Example:
// Get token from URL
const urlParams = new URLSearchParams(window.location.search);
const token = urlParams.get('token');

const response = await fetch('/api/users/reset-password', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ 
    token: token,
    password: newPassword 
  })
});

if (response.ok) {
  // Redirect to login or show success
} else {
  // Handle error (invalid/expired token, etc.)
}


IMPLEMENTATION CHECKLIST
=========================

1. Forgot Password Page:
   - Email input field
   - Submit button
   - Success message after submission

2. Reset Password Page:
   - Read token from URL query parameter
   - Password input field (with validation for min 8 chars)
   - Confirm password field (optional but recommended)
   - Submit button
   - Handle expired/invalid token errors
   - Redirect to login on success

3. Error Handling:
   - Show user-friendly messages for expired tokens
   - Validate password length before submission
   - Handle network errors gracefully

4. User Experience:
   - Show loading states during API calls
   - Clear success/error messages
   - Auto-redirect to login after successful reset


EXAMPLE FLOW
============

1. User clicks "Forgot Password" → enters email → submits
2. Frontend calls /api/users/forgot-password
3. User receives email with link: yoursite.com/reset-password?token=abc123...
4. User clicks link → frontend extracts token from URL
5. User enters new password → submits
6. Frontend calls /api/users/reset-password with token and password
7. On success → redirect to login page
